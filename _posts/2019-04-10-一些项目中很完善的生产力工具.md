---
layout:     post
title:      一些项目中很完善的生产力工具
subtitle:   一些项目中很完善的生产力工具
date:       2019-04-10
author:     he xiaodong
header-img: img/default-post-bg.jpg
catalog: true
tags:
    - airflow
    - locust
    - 生产力工具
---

> 工欲善其事，必先利其器。找到好工具，先读文档是最好的。

#### airflow
**airflow: 分布式系统任务调度管理系统**

对于常规的 crontab 定时任务，需要思考几个问题：<br />
1.分布式系统的情况下，多台机器会不会每台执行一次某个任务？<br />
2.同一台机器上，隔一定时间执行的任务，上次任务未执行完毕，而到了下次任务执行时间，这种情况下会发生什么？<br />
3.如果限制在一台机器上，加锁限定两次任务不会冲突，但这个机器的任务调度服务挂了，会对系统造成什么影响？<br />

所以就应该有一个工具进行调度管理任务，让机器争抢任务，或者由调度中心选择机器，将任务分配给他，加锁，其他机器不在调用或者不在执行这个任务，执行完成解锁，等待下次执行。所以就有了 `airflow`，统一管理，配置任务，记录状态等。到时间了竞争执行，哪个节点持有了锁哪个节点执行任务。

更多参考 [官方文档](https://airflow.apache.org/start.html "airflow官方文档")

#### locust
**locust：简单易用功能强大，Python实现的压力测试框架**

他比ab，jmeter 高级点的地方是支持很多请求方式，因为封装的 request 包，几行代码就可以写一个测试任务。可以同时模拟多用户多请求的方式进行压测，接近真实生产环境。<br />
在模拟有效并发方面，Locust 的优势在于其摒弃了进程和线程，完全基于事件驱动，使用 gevent 提供的非阻塞 IO 和 coroutine 来实现网络层的并发请求，因此即使是单台压力机也能产生数千并发请求数；再加上对分布式运行的支持，理论上来说，Locust能在使用较少压力机的前提下支持极高并发数的测试。

更多参考 [官方文档](https://docs.locust.io/en/stable/ "locust 官方文档")

#### more
等我以后接着更
